workflows:
  android-kivy-build:
    name: Build Kivy Android APK
    max_build_duration: 60          # dakika cinsinden zaman limiti
    environment:
      android:
        api-level: 31               # SDK API seviyesi
        build-tools: "30.0.3"       # Build tools versiyonu
        ndk: "23b"                  # NDK versiyonu (auto da olabilir)
        java: "openjdk11"           # JDK versiyonu
    scripts:
      - name: Install Python & Buildozer
        script: |
          pip3 install --user buildozer kivy PyDatePicker
          echo 'export PATH=$PATH:$HOME/.local/bin' >> ~/.bashrc
          source ~/.bashrc
      - name: Run Buildozer
        script: |
          buildozer --verbose android debug
    artifacts:
      - buildozer/bin/*.apk
      - buildozer/bin/*.aab
    publishing:
      email:
        recipients:
          - moclabel01@gmail.com
